<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å¤±æ¥­çµ¦ä»˜é‡‘ è¨ˆç®—ãƒ„ãƒ¼ãƒ«ï½œé€€è·ã‹ã‚‰æŒ¯è¾¼ã¾ã§å®Œå…¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</title>
<style>
  :root {
    --primary: #2563eb;
    --primary-dark: #1d4ed8;
    --primary-light: #dbeafe;
    --success: #16a34a;
    --success-light: #dcfce7;
    --warning: #d97706;
    --warning-light: #fef3c7;
    --danger: #dc2626;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-400: #9ca3af;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --radius: 12px;
    --shadow: 0 4px 24px rgba(0,0,0,0.10);
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif;
    background: linear-gradient(135deg, #eff6ff 0%, #f0fdf4 100%);
    min-height: 100vh;
    color: var(--gray-800);
    padding: 16px;
  }
  .container { max-width: 760px; margin: 0 auto; }

  /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
  .header {
    text-align: center;
    padding: 32px 24px 24px;
    background: white;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    margin-bottom: 20px;
  }
  .header .badge {
    display: inline-block;
    background: var(--primary-light);
    color: var(--primary-dark);
    font-size: 12px;
    font-weight: 700;
    padding: 4px 12px;
    border-radius: 99px;
    margin-bottom: 12px;
    letter-spacing: 0.05em;
  }
  .header h1 {
    font-size: clamp(20px, 5vw, 28px);
    font-weight: 800;
    color: var(--gray-800);
    line-height: 1.3;
    margin-bottom: 8px;
  }
  .header h1 span { color: var(--primary); }
  .header p {
    color: var(--gray-600);
    font-size: 14px;
    line-height: 1.6;
  }
  .law-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: var(--success-light);
    color: var(--success);
    font-size: 12px;
    font-weight: 700;
    padding: 4px 12px;
    border-radius: 99px;
    margin-top: 10px;
  }

  /* ã‚«ãƒ¼ãƒ‰ */
  .card {
    background: white;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 24px;
    margin-bottom: 20px;
  }
  .card-title {
    font-size: 16px;
    font-weight: 800;
    color: var(--gray-800);
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--primary-light);
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .card-title .icon {
    width: 28px; height: 28px;
    background: var(--primary-light);
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 14px;
  }

  /* ãƒ•ã‚©ãƒ¼ãƒ  */
  .form-group { margin-bottom: 20px; }
  label {
    display: block;
    font-size: 14px;
    font-weight: 700;
    color: var(--gray-700);
    margin-bottom: 8px;
  }
  label .required {
    background: var(--danger);
    color: white;
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 4px;
    margin-left: 6px;
    font-weight: 700;
  }
  label .hint {
    font-size: 12px;
    color: var(--gray-400);
    font-weight: 400;
    margin-left: 4px;
  }
  input[type="number"], select {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid var(--gray-200);
    border-radius: 8px;
    font-size: 16px;
    color: var(--gray-800);
    background: var(--gray-50);
    transition: all 0.2s;
    -webkit-appearance: none;
  }
  input[type="number"]:focus, select:focus {
    outline: none;
    border-color: var(--primary);
    background: white;
    box-shadow: 0 0 0 3px var(--primary-light);
  }
  .input-wrap {
    position: relative;
    display: flex;
    align-items: center;
  }
  .input-wrap input { padding-right: 48px; }
  .input-unit {
    position: absolute;
    right: 16px;
    color: var(--gray-600);
    font-size: 14px;
    font-weight: 600;
    pointer-events: none;
  }

  /* ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ */
  .radio-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }
  .radio-group.three { grid-template-columns: 1fr 1fr 1fr; }
  .radio-label {
    position: relative;
    cursor: pointer;
  }
  .radio-label input[type="radio"] { display: none; }
  .radio-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 12px 8px;
    border: 2px solid var(--gray-200);
    border-radius: 10px;
    background: var(--gray-50);
    transition: all 0.2s;
    text-align: center;
    min-height: 64px;
  }
  .radio-card .r-icon { font-size: 20px; margin-bottom: 4px; }
  .radio-card .r-text { font-size: 13px; font-weight: 700; color: var(--gray-700); }
  .radio-card .r-sub { font-size: 11px; color: var(--gray-400); margin-top: 2px; }
  .radio-label input[type="radio"]:checked + .radio-card {
    border-color: var(--primary);
    background: var(--primary-light);
  }
  .radio-label input[type="radio"]:checked + .radio-card .r-text { color: var(--primary-dark); }

  /* ãƒœã‚¿ãƒ³ */
  .btn-calc {
    width: 100%;
    padding: 16px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    font-size: 17px;
    font-weight: 800;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    letter-spacing: 0.05em;
    box-shadow: 0 4px 16px rgba(37,99,235,0.35);
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 4px;
  }
  .btn-calc:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(37,99,235,0.45); }
  .btn-calc:active { transform: translateY(0); }

  /* çµæœã‚¨ãƒªã‚¢ */
  #result { display: none; }
  .result-hero {
    background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
    border-radius: var(--radius);
    padding: 28px 24px;
    color: white;
    text-align: center;
    margin-bottom: 20px;
    box-shadow: var(--shadow);
  }
  .result-hero .label { font-size: 13px; opacity: 0.85; margin-bottom: 6px; letter-spacing: 0.05em; }
  .result-hero .total-amount {
    font-size: clamp(36px, 10vw, 52px);
    font-weight: 900;
    line-height: 1;
    margin-bottom: 4px;
    letter-spacing: -0.02em;
  }
  .result-hero .total-amount span { font-size: 22px; }
  .result-hero .sub-info {
    font-size: 13px;
    opacity: 0.8;
    margin-top: 8px;
  }
  .result-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 20px;
  }
  .result-item {
    background: white;
    border-radius: 10px;
    padding: 16px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.07);
    text-align: center;
  }
  .result-item .r-label {
    font-size: 12px;
    color: var(--gray-400);
    font-weight: 600;
    margin-bottom: 6px;
    line-height: 1.3;
  }
  .result-item .r-value {
    font-size: 22px;
    font-weight: 800;
    color: var(--primary);
  }
  .result-item .r-value .unit { font-size: 13px; }
  .result-item.highlight { background: var(--primary-light); }
  .result-item.highlight .r-value { color: var(--primary-dark); }

  /* ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ */
  .timeline { padding: 8px 0; }
  .tl-item {
    display: flex;
    gap: 16px;
    margin-bottom: 20px;
    position: relative;
  }
  .tl-item:not(:last-child)::after {
    content: '';
    position: absolute;
    left: 19px;
    top: 40px;
    bottom: -20px;
    width: 2px;
    background: var(--gray-200);
  }
  .tl-dot {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
    z-index: 1;
  }
  .tl-dot.blue { background: var(--primary-light); }
  .tl-dot.green { background: var(--success-light); }
  .tl-dot.yellow { background: var(--warning-light); }
  .tl-content { flex: 1; padding-top: 6px; }
  .tl-day {
    font-size: 12px;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 2px;
  }
  .tl-title { font-size: 15px; font-weight: 700; color: var(--gray-800); margin-bottom: 2px; }
  .tl-desc { font-size: 13px; color: var(--gray-600); line-height: 1.5; }

  /* å†å°±è·æ‰‹å½“ */
  .saishushoku {
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    border: 2px solid #86efac;
    border-radius: var(--radius);
    padding: 20px;
    margin-bottom: 20px;
  }
  .saishushoku h3 {
    font-size: 15px;
    font-weight: 800;
    color: var(--success);
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .saishushoku-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }
  .saishushoku-item {
    background: white;
    border-radius: 8px;
    padding: 14px;
    text-align: center;
  }
  .saishushoku-item .s-label { font-size: 12px; color: var(--gray-400); margin-bottom: 4px; font-weight: 600; }
  .saishushoku-item .s-value { font-size: 20px; font-weight: 800; color: var(--success); }
  .saishushoku-item .s-note { font-size: 11px; color: var(--gray-400); margin-top: 2px; }

  /* æ³¨æ„äº‹é … */
  .notice {
    background: var(--warning-light);
    border-left: 4px solid var(--warning);
    border-radius: 8px;
    padding: 14px 16px;
    font-size: 13px;
    color: var(--gray-700);
    line-height: 1.6;
    margin-bottom: 20px;
  }
  .notice strong { color: var(--warning); }

  /* ãƒ•ãƒƒã‚¿ãƒ¼ */
  .footer {
    text-align: center;
    padding: 20px;
    font-size: 12px;
    color: var(--gray-400);
    line-height: 1.8;
  }

  /* ã‚¨ãƒ©ãƒ¼ */
  .error-msg {
    display: none;
    color: var(--danger);
    font-size: 13px;
    margin-top: 6px;
    font-weight: 600;
  }

  /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
  @media (max-width: 480px) {
    .result-grid { grid-template-columns: 1fr 1fr; }
    .saishushoku-grid { grid-template-columns: 1fr 1fr; }
    .radio-group.three { grid-template-columns: 1fr 1fr 1fr; }
  }

  /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate { animation: fadeUp 0.4s ease forwards; }
</style>
</head>
<body>
<nav class="navbar" style="position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.96);backdrop-filter:blur(8px);border-bottom:1px solid #e5e7eb;padding:0 20px;height:60px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 1px 4px rgba(0,0,0,0.06);">
  <a href="index.html" style="font-size:17px;font-weight:800;color:#2563eb;text-decoration:none;display:flex;align-items:center;gap:6px;">ğŸ“‹ <span style="color:#1f2937;">é€€è·ãƒ»å¤±æ¥­çµ¦ä»˜</span>å®Œå…¨ã‚¬ã‚¤ãƒ‰</a>
  <div style="display:flex;gap:4px;flex-wrap:wrap;">
    <a href="timeline.html" style="font-size:13px;font-weight:600;color:#4b5563;padding:6px 10px;border-radius:8px;text-decoration:none;">ğŸ“… ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</a>
    <a href="voluntary.html" style="font-size:13px;font-weight:600;color:#4b5563;padding:6px 10px;border-radius:8px;text-decoration:none;">ğŸ™‹ è‡ªå·±éƒ½åˆ</a>
    <a href="company.html" style="font-size:13px;font-weight:600;color:#4b5563;padding:6px 10px;border-radius:8px;text-decoration:none;">ğŸ¢ ä¼šç¤¾éƒ½åˆ</a>
    <a href="checklist.html" style="font-size:13px;font-weight:600;color:#4b5563;padding:6px 10px;border-radius:8px;text-decoration:none;">âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</a>
  </div>
</nav>
<div class="container">

  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <div class="header">
    <div class="badge">ğŸ§® ç„¡æ–™ è¨ˆç®—ãƒ„ãƒ¼ãƒ«</div>
    <h1>å¤±æ¥­çµ¦ä»˜é‡‘<span>ã„ãã‚‰ã‚‚ã‚‰ãˆã‚‹ï¼Ÿ</span><br>å®Œå…¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
    <p>é€€è·ã‹ã‚‰åˆå›æŒ¯è¾¼ã¾ã§ã€ã‚ãªãŸã®å—çµ¦é¡ã‚’è‡ªå‹•è¨ˆç®—</p>
    <div class="law-badge">âœ… 2025å¹´8æœˆæœ€æ–°ã®åŸºæœ¬æ‰‹å½“æ—¥é¡ãƒ»æ³•æ”¹æ­£å¯¾å¿œæ¸ˆã¿</div>
  </div>

  <!-- å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  -->
  <div class="card">
    <div class="card-title"><div class="icon">ğŸ“‹</div>ã‚ãªãŸã®æƒ…å ±ã‚’å…¥åŠ›</div>

    <!-- é€€è·ç†ç”± -->
    <div class="form-group">
      <label>é€€è·ç†ç”±<span class="required">å¿…é ˆ</span></label>
      <div class="radio-group">
        <label class="radio-label">
          <input type="radio" name="reason" value="voluntary" checked>
          <div class="radio-card">
            <div class="r-icon">ğŸ™‹</div>
            <div class="r-text">è‡ªå·±éƒ½åˆ</div>
            <div class="r-sub">è‡ªåˆ†ã‹ã‚‰è¾ã‚ãŸ</div>
          </div>
        </label>
        <label class="radio-label">
          <input type="radio" name="reason" value="company">
          <div class="radio-card">
            <div class="r-icon">ğŸ¢</div>
            <div class="r-text">ä¼šç¤¾éƒ½åˆãƒ»ç‰¹å®šç†ç”±</div>
            <div class="r-sub">è§£é›‡ãƒ»å€’ç”£ãƒ»ã‚„ã‚€ã‚’å¾—ãš</div>
          </div>
        </label>
      </div>
    </div>

    <!-- çµ¦ä»˜åˆ¶é™ï¼ˆè‡ªå·±éƒ½åˆã®ã¿ï¼‰ -->
    <div class="form-group" id="restriction-group">
      <label>éå»5å¹´é–“ã®è‡ªå·±éƒ½åˆé€€è·<span class="required">å¿…é ˆ</span><span class="hint">ï¼ˆçµ¦ä»˜åˆ¶é™æœŸé–“ã«å½±éŸ¿ï¼‰</span></label>
      <div class="radio-group">
        <label class="radio-label">
          <input type="radio" name="restriction" value="1month" checked>
          <div class="radio-card">
            <div class="r-icon">1ï¸âƒ£</div>
            <div class="r-text">åˆå› or 1å›ç›®</div>
            <div class="r-sub">çµ¦ä»˜åˆ¶é™ï¼š1ãƒ¶æœˆ</div>
          </div>
        </label>
        <label class="radio-label">
          <input type="radio" name="restriction" value="3month">
          <div class="radio-card">
            <div class="r-icon">3ï¸âƒ£</div>
            <div class="r-text">2å›ç›®ä»¥ä¸Š</div>
            <div class="r-sub">çµ¦ä»˜åˆ¶é™ï¼š3ãƒ¶æœˆ</div>
          </div>
        </label>
      </div>
      <div style="font-size:12px;color:#d97706;margin-top:8px;padding:8px 12px;background:#fef3c7;border-radius:6px;">
        âš¡ 2025å¹´4æœˆã€œ è‡ªå·±éƒ½åˆã®çµ¦ä»˜åˆ¶é™ãŒ <strong>2ãƒ¶æœˆâ†’1ãƒ¶æœˆ</strong> ã«çŸ­ç¸®ã•ã‚Œã¾ã—ãŸï¼
      </div>
    </div>

    <!-- é›¢è·æ™‚ã®å¹´é½¢ -->
    <div class="form-group">
      <label>é›¢è·æ™‚ã®å¹´é½¢<span class="required">å¿…é ˆ</span></label>
      <div class="radio-group three">
        <label class="radio-label">
          <input type="radio" name="age" value="under30" checked>
          <div class="radio-card">
            <div class="r-text">29æ­³ä»¥ä¸‹</div>
          </div>
        </label>
        <label class="radio-label">
          <input type="radio" name="age" value="30to44">
          <div class="radio-card">
            <div class="r-text">30ã€œ44æ­³</div>
          </div>
        </label>
        <label class="radio-label">
          <input type="radio" name="age" value="45to59">
          <div class="radio-card">
            <div class="r-text">45ã€œ59æ­³</div>
          </div>
        </label>
        <label class="radio-label">
          <input type="radio" name="age" value="60to64">
          <div class="radio-card">
            <div class="r-text">60ã€œ64æ­³</div>
          </div>
        </label>
        <label class="radio-label" style="grid-column: span 2;">
          <input type="radio" name="age" value="65over">
          <div class="radio-card">
            <div class="r-text">65æ­³ä»¥ä¸Š</div>
            <div class="r-sub">é«˜å¹´é½¢æ±‚è·è€…çµ¦ä»˜é‡‘</div>
          </div>
        </label>
      </div>
    </div>

    <!-- é›‡ç”¨ä¿é™ºåŠ å…¥æœŸé–“ -->
    <div class="form-group">
      <label>é›‡ç”¨ä¿é™ºã®åŠ å…¥æœŸé–“<span class="required">å¿…é ˆ</span></label>
      <select id="insured-period">
        <option value="under6">6ãƒ¶æœˆæœªæº€ï¼ˆå—çµ¦ä¸å¯ï¼‰</option>
        <option value="6to11">6ãƒ¶æœˆä»¥ä¸Š1å¹´æœªæº€</option>
        <option value="1to4" selected>1å¹´ä»¥ä¸Š5å¹´æœªæº€</option>
        <option value="5to9">5å¹´ä»¥ä¸Š10å¹´æœªæº€</option>
        <option value="10to19">10å¹´ä»¥ä¸Š20å¹´æœªæº€</option>
        <option value="20over">20å¹´ä»¥ä¸Š</option>
      </select>
    </div>

    <!-- æœˆå -->
    <div class="form-group">
      <label>é€€è·å‰6ãƒ¶æœˆã®å¹³å‡æœˆåï¼ˆé¡é¢ï¼‰<span class="required">å¿…é ˆ</span><span class="hint">â€»è³ä¸é™¤ããƒ»æ®‹æ¥­ä»£å«ã‚€</span></label>
      <div class="input-wrap">
        <input type="number" id="monthly-salary" placeholder="ä¾‹ï¼š280000" min="0" max="9999999">
        <span class="input-unit">å††</span>
      </div>
      <div class="error-msg" id="salary-error">æœˆåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
    </div>

    <!-- è¨ˆç®—ãƒœã‚¿ãƒ³ -->
    <button class="btn-calc" onclick="calculate()">
      ğŸ§® ä»Šã™ãè¨ˆç®—ã™ã‚‹
    </button>
  </div>

  <!-- çµæœã‚¨ãƒªã‚¢ -->
  <div id="result">

    <!-- ç·å—çµ¦é¡ãƒ’ãƒ¼ãƒ­ãƒ¼ -->
    <div class="result-hero animate" id="hero-section">
      <div class="label">ğŸ’° å¤±æ¥­çµ¦ä»˜ å—çµ¦ç·é¡ï¼ˆç›®å®‰ï¼‰</div>
      <div class="total-amount"><span>ç´„</span><span id="total-amount">0</span><span>ä¸‡å††</span></div>
      <div class="sub-info" id="hero-sub"></div>
    </div>

    <!-- è©³ç´°æ•°å€¤ã‚°ãƒªãƒƒãƒ‰ -->
    <div class="result-grid animate">
      <div class="result-item">
        <div class="r-label">è³ƒé‡‘æ—¥é¡</div>
        <div class="r-value"><span id="wage-daily">0</span><span class="unit">å††</span></div>
      </div>
      <div class="result-item highlight">
        <div class="r-label">åŸºæœ¬æ‰‹å½“æ—¥é¡</div>
        <div class="r-value"><span id="benefit-daily">0</span><span class="unit">å††</span></div>
      </div>
      <div class="result-item">
        <div class="r-label">æ‰€å®šçµ¦ä»˜æ—¥æ•°</div>
        <div class="r-value"><span id="benefit-days">0</span><span class="unit">æ—¥</span></div>
      </div>
      <div class="result-item">
        <div class="r-label">çµ¦ä»˜ç‡</div>
        <div class="r-value"><span id="benefit-rate">0</span><span class="unit">%</span></div>
      </div>
      <div class="result-item">
        <div class="r-label">åˆå›æŒ¯è¾¼ã¾ã§</div>
        <div class="r-value"><span id="first-payment">0</span><span class="unit">æ—¥å¾Œ</span></div>
      </div>
      <div class="result-item">
        <div class="r-label">1ãƒ¶æœˆã‚ãŸã‚Šå—å–é¡</div>
        <div class="r-value"><span id="monthly-benefit">0</span><span class="unit">ä¸‡å††</span></div>
      </div>
    </div>

    <!-- å†å°±è·æ‰‹å½“ -->
    <div class="saishushoku animate">
      <h3>ğŸ‰ æ—©æœŸå†å°±è·ãªã‚‰ã€Œå†å°±è·æ‰‹å½“ã€ã‚‚ï¼</h3>
      <div class="saishushoku-grid">
        <div class="saishushoku-item">
          <div class="s-label">æ®‹æ—¥æ•°2/3ä»¥ä¸Šã§å°±è·</div>
          <div class="s-value" id="saishushoku-high">0ä¸‡å††</div>
          <div class="s-note">çµ¦ä»˜ç‡70%</div>
        </div>
        <div class="saishushoku-item">
          <div class="s-label">æ®‹æ—¥æ•°1/3ä»¥ä¸Šã§å°±è·</div>
          <div class="s-value" id="saishushoku-low">0ä¸‡å††</div>
          <div class="s-note">çµ¦ä»˜ç‡60%</div>
        </div>
      </div>
    </div>

    <!-- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ -->
    <div class="card animate">
      <div class="card-title"><div class="icon">ğŸ“…</div>é€€è·å¾Œã®æµã‚Œãƒ»ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</div>
      <div class="timeline" id="timeline"></div>
    </div>

    <!-- æ³¨æ„äº‹é … -->
    <div class="notice animate">
      <strong>âš ï¸ ã”æ³¨æ„ï¼š</strong>æœ¬ãƒ„ãƒ¼ãƒ«ã¯ç›®å®‰ã®è¨ˆç®—ã§ã™ã€‚å®Ÿéš›ã®å—çµ¦é¡ã¯ãƒãƒ­ãƒ¼ãƒ¯ãƒ¼ã‚¯ã®å¯©æŸ»ãƒ»é›¢è·ç†ç”±ã®åˆ¤å®šãƒ»è³ƒé‡‘ã®è©³ç´°ã«ã‚ˆã‚Šç•°ãªã‚Šã¾ã™ã€‚æ­£ç¢ºãªé‡‘é¡ã¯ãŠè¿‘ãã®ãƒãƒ­ãƒ¼ãƒ¯ãƒ¼ã‚¯ã¸ã”ç¢ºèªãã ã•ã„ã€‚<br>
      åŸºæœ¬æ‰‹å½“æ—¥é¡ã¯ä»¤å’Œ7å¹´8æœˆ1æ—¥ã€œã®é©ç”¨é¡ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
    </div>

    <!-- ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ -->
    <button class="btn-calc" onclick="resetForm()" style="background: linear-gradient(135deg, #6b7280, #4b5563); box-shadow: none; margin-bottom: 20px;">
      ğŸ”„ ã‚‚ã†ä¸€åº¦è¨ˆç®—ã™ã‚‹
    </button>
  </div>

  <div class="footer">
    â€»æœ¬ãƒ„ãƒ¼ãƒ«ã¯æƒ…å ±æä¾›ã‚’ç›®çš„ã¨ã—ãŸã‚‚ã®ã§ã™ã€‚<br>
    ä»¤å’Œ7å¹´8æœˆ1æ—¥æ–½è¡Œã®åŸºæœ¬æ‰‹å½“æ—¥é¡ãƒ»2025å¹´4æœˆæ–½è¡Œã®çµ¦ä»˜åˆ¶é™çŸ­ç¸®ã«å¯¾å¿œã€‚<br>
    Â© é€€è·ãƒ»å¤±æ¥­çµ¦ä»˜ å®Œå…¨ã‚¬ã‚¤ãƒ‰
  </div>

</div>

<script>
// ============================================================
//  è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
// ============================================================

// åŸºæœ¬æ‰‹å½“æ—¥é¡ã‚’è¨ˆç®—ï¼ˆ2025å¹´8æœˆã€œï¼‰
function calcDailyBenefit(w, ageGroup) {
  let y = 0;
  if (ageGroup === 'under30') {
    if (w < 3014) y = 0;
    else if (w < 5340) y = 0.8 * w;
    else if (w <= 13140) y = 0.8 * w - 0.3 * ((w - 5340) / (13140 - 5340)) * w;
    else if (w <= 14510) y = 0.5 * w;
    else y = 7255;
  } else if (ageGroup === '30to44') {
    if (w < 3014) y = 0;
    else if (w < 5340) y = 0.8 * w;
    else if (w <= 13140) y = 0.8 * w - 0.3 * ((w - 5340) / (13140 - 5340)) * w;
    else if (w <= 16110) y = 0.5 * w;
    else y = 8055;
  } else if (ageGroup === '45to59') {
    if (w < 3014) y = 0;
    else if (w < 5340) y = 0.8 * w;
    else if (w <= 13140) y = 0.8 * w - 0.3 * ((w - 5340) / (13140 - 5340)) * w;
    else if (w <= 17740) y = 0.5 * w;
    else y = 8870;
  } else if (ageGroup === '60to64') {
    if (w < 3014) y = 0;
    else if (w < 5340) y = 0.8 * w;
    else if (w <= 11800) {
      const a = 0.8 * w - 0.35 * ((w - 5340) / (11800 - 5340)) * w;
      const b = 0.05 * w + (11800 * 0.4);
      y = Math.min(a, b);
    } else if (w <= 16940) y = 0.45 * w;
    else y = 7623;
  } else {
    // 65æ­³ä»¥ä¸Šï¼šé«˜å¹´é½¢æ±‚è·è€…çµ¦ä»˜é‡‘ï¼ˆ30æ—¥ or 50æ—¥ï¼‰
    y = 0.5 * w;
  }
  return Math.floor(y);
}

// çµ¦ä»˜ç‡ã‚’æ¨å®š
function estimateRate(w, y) {
  if (w <= 0) return 0;
  return Math.round((y / w) * 100);
}

// æ‰€å®šçµ¦ä»˜æ—¥æ•°ï¼ˆè‡ªå·±éƒ½åˆï¼‰
function getBenefitDaysVoluntary(period) {
  if (period === 'under6' || period === '6to11') return 0; // å—çµ¦ä¸å¯ï¼ˆè‡ªå·±éƒ½åˆã¯12ãƒ¶æœˆå¿…è¦ï¼‰
  if (period === '1to4') return 90;
  if (period === '5to9') return 90;
  if (period === '10to19') return 120;
  if (period === '20over') return 150;
  return 0;
}

// æ‰€å®šçµ¦ä»˜æ—¥æ•°ï¼ˆä¼šç¤¾éƒ½åˆï¼‰
function getBenefitDaysCompany(period, ageGroup) {
  if (period === 'under6') return 90;
  if (period === '6to11') return 90;
  // 1å¹´ä»¥ä¸Š5å¹´æœªæº€
  if (period === '1to4') {
    if (ageGroup === 'under30') return 90;
    if (ageGroup === '30to44') return 120;
    if (ageGroup === '45to59') return 180; // 35ã€œ44:150, 45ã€œ59:180
    if (ageGroup === '60to64') return 150;
    if (ageGroup === '65over') return 50;
    return 90;
  }
  // 5å¹´ä»¥ä¸Š10å¹´æœªæº€
  if (period === '5to9') {
    if (ageGroup === 'under30') return 120;
    if (ageGroup === '30to44') return 180;
    if (ageGroup === '45to59') return 240;
    if (ageGroup === '60to64') return 180;
    if (ageGroup === '65over') return 50;
    return 120;
  }
  // 10å¹´ä»¥ä¸Š20å¹´æœªæº€
  if (period === '10to19') {
    if (ageGroup === 'under30') return 180;
    if (ageGroup === '30to44') return 210;
    if (ageGroup === '45to59') return 270;
    if (ageGroup === '60to64') return 210;
    if (ageGroup === '65over') return 50;
    return 180;
  }
  // 20å¹´ä»¥ä¸Š
  if (period === '20over') {
    if (ageGroup === 'under30') return 180;
    if (ageGroup === '30to44') return 240;
    if (ageGroup === '45to59') return 330;
    if (ageGroup === '60to64') return 240;
    if (ageGroup === '65over') return 50;
    return 240;
  }
  return 90;
}

// æ•°å€¤ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
function fmt(n) { return n.toLocaleString('ja-JP'); }
function fmtMan(n) { return (n / 10000).toFixed(1); }

// ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ç”Ÿæˆ
function buildTimeline(reason, restriction, benefitDays, firstPayDays) {
  const isCompany = reason === 'company';
  const limit = isCompany ? 0 : (restriction === '3month' ? 90 : 30);
  const items = [];

  items.push({
    day: 'Day 0', icon: 'ğŸ¢', color: 'blue',
    title: 'é€€è·æ—¥',
    desc: 'ä¼šç¤¾ã‹ã‚‰ã€Œé›¢è·ç¥¨ã€ã€Œé›‡ç”¨ä¿é™ºè¢«ä¿é™ºè€…è¨¼ã€ã‚’å—ã‘å–ã‚‹ï¼ˆéƒµé€ã®å ´åˆã¯é€€è·å¾Œ10ã€œ14æ—¥å¾Œï¼‰'
  });
  items.push({
    day: 'Day 14ã€œ21', icon: 'ğŸ›ï¸', color: 'blue',
    title: 'ãƒãƒ­ãƒ¼ãƒ¯ãƒ¼ã‚¯ã¸ç”³è«‹',
    desc: 'é›¢è·ç¥¨ãƒ»ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼ã‚«ãƒ¼ãƒ‰ãƒ»å†™çœŸ2æšãƒ»é€šå¸³ã‚’æŒå‚ã€‚æ±‚è·ç”³è¾¼ï¼‹å—çµ¦è³‡æ ¼æ±ºå®šæ‰‹ç¶šã'
  });
  items.push({
    day: 'ç”³è«‹å¾Œ Day 7', icon: 'â³', color: 'yellow',
    title: 'å¾…æœŸæœŸé–“ æº€äº†ï¼ˆ7æ—¥é–“ï¼‰',
    desc: 'ã“ã®7æ—¥é–“ã¯ã‚¢ãƒ«ãƒã‚¤ãƒˆNGã€‚å…¨å“¡å…±é€šã§ç™ºç”Ÿã™ã‚‹æœŸé–“'
  });

  if (!isCompany) {
    items.push({
      day: `å¾…æœŸå¾Œ +${limit === 30 ? '1ãƒ¶æœˆ' : '3ãƒ¶æœˆ'}`, icon: 'ğŸš«', color: 'yellow',
      title: `çµ¦ä»˜åˆ¶é™æœŸé–“ï¼ˆ${limit === 30 ? '1ãƒ¶æœˆ' : '3ãƒ¶æœˆ'}ï¼‰`,
      desc: limit === 30
        ? 'âš¡2025å¹´4æœˆã€œ 2ãƒ¶æœˆâ†’1ãƒ¶æœˆã«çŸ­ç¸®ï¼ã“ã®æœŸé–“ã¯ã‚¢ãƒ«ãƒã‚¤ãƒˆå¯ï¼ˆä¸Šé™ã‚ã‚Šï¼‰'
        : 'éå»5å¹´é–“ã§2å›ç›®ä»¥ä¸Šã®è‡ªå·±éƒ½åˆé€€è·ã®ãŸã‚3ãƒ¶æœˆã®çµ¦ä»˜åˆ¶é™'
    });
  }

  items.push({
    day: `å¾…æœŸå¾Œ ç´„4é€±é–“`, icon: 'ğŸ“', color: 'blue',
    title: 'ç¬¬1å› å¤±æ¥­èªå®šæ—¥',
    desc: 'æŒ‡å®šæ—¥ã«ãƒãƒ­ãƒ¼ãƒ¯ãƒ¼ã‚¯ã¸ã€‚æ±‚è·æ´»å‹•å®Ÿç¸¾ãŒ1å›ä»¥ä¸Šå¿…è¦ã€‚èªå®šã•ã‚Œã‚Œã°åˆå›æŒ¯è¾¼ã¸'
  });
  items.push({
    day: `èªå®šå¾Œ ç´„5å–¶æ¥­æ—¥`, icon: 'ğŸ’°', color: 'green',
    title: `ğŸ‰ åˆå›æŒ¯è¾¼ï¼ï¼ˆç”³è«‹ã‹ã‚‰ç´„${firstPayDays}æ—¥å¾Œï¼‰`,
    desc: `åˆå›ã¯21æ—¥åˆ†ãŒæŒ¯è¾¼ã¾ã‚Œã¾ã™ã€‚ä»¥é™ã¯4é€±é–“ã”ã¨ã«28æ—¥åˆ†ãšã¤å—å–ã‚Šã€‚åˆè¨ˆ${benefitDays}æ—¥åˆ†`
  });
  items.push({
    day: 'å—çµ¦ä¸­', icon: 'ğŸ”„', color: 'blue',
    title: '4é€±é–“ã”ã¨ã«èªå®šâ†’æŒ¯è¾¼ã‚’ç¹°ã‚Šè¿”ã™',
    desc: 'å„èªå®šæœŸé–“ä¸­ã«æ±‚è·æ´»å‹•å®Ÿç¸¾ãŒ2å›ä»¥ä¸Šå¿…è¦ã€‚å°±è·ãŒæ±ºã¾ã£ãŸã‚‰ãƒãƒ­ãƒ¼ãƒ¯ãƒ¼ã‚¯ã¸å ±å‘Š'
  });

  return items;
}

// ============================================================
//  ãƒ¡ã‚¤ãƒ³è¨ˆç®—
// ============================================================
function calculate() {
  const salary = parseInt(document.getElementById('monthly-salary').value);
  if (!salary || salary <= 0) {
    document.getElementById('salary-error').style.display = 'block';
    document.getElementById('monthly-salary').focus();
    return;
  }
  document.getElementById('salary-error').style.display = 'none';

  const reason = document.querySelector('input[name="reason"]:checked').value;
  const ageGroup = document.querySelector('input[name="age"]:checked').value;
  const period = document.getElementById('insured-period').value;
  const restriction = document.querySelector('input[name="restriction"]:checked')?.value || '1month';
  const isCompany = reason === 'company';
  const is65over = ageGroup === '65over';

  // è³ƒé‡‘æ—¥é¡
  const wageDailyRaw = (salary * 6) / 180;
  const wageDaily = Math.floor(wageDailyRaw);

  // åŸºæœ¬æ‰‹å½“æ—¥é¡
  const benefitDaily = calcDailyBenefit(wageDaily, ageGroup);

  // çµ¦ä»˜ç‡
  const rate = estimateRate(wageDaily, benefitDaily);

  // æ‰€å®šçµ¦ä»˜æ—¥æ•°
  let benefitDays = 0;
  if (period === 'under6') {
    // è‡ªå·±éƒ½åˆã¯åŠ å…¥12ãƒ¶æœˆå¿…è¦ã€ä¼šç¤¾éƒ½åˆã¯6ãƒ¶æœˆã§OK
    if (isCompany) benefitDays = getBenefitDaysCompany(period, ageGroup);
    else benefitDays = 0;
  } else if (period === '6to11') {
    if (isCompany) benefitDays = getBenefitDaysCompany(period, ageGroup);
    else benefitDays = 0; // è‡ªå·±éƒ½åˆã¯å—çµ¦ä¸å¯
  } else {
    benefitDays = isCompany
      ? getBenefitDaysCompany(period, ageGroup)
      : getBenefitDaysVoluntary(period);
  }

  // é«˜å¹´é½¢æ±‚è·è€…çµ¦ä»˜é‡‘ï¼ˆ65æ­³ä»¥ä¸Šï¼‰
  let is65note = '';
  if (is65over) {
    benefitDays = period === '1to4' || period === '5to9' ? 30 : 50;
    is65note = 'ï¼ˆé«˜å¹´é½¢æ±‚è·è€…çµ¦ä»˜é‡‘ï¼šä¸€æ™‚é‡‘ï¼‰';
  }

  // å—çµ¦ä¸å¯ãƒã‚§ãƒƒã‚¯
  if (benefitDays === 0) {
    alert('ã”å…¥åŠ›ã®æ¡ä»¶ã§ã¯å¤±æ¥­çµ¦ä»˜ã‚’å—çµ¦ã§ããªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚\n\nè‡ªå·±éƒ½åˆé€€è·ã®å ´åˆã¯é›¢è·å‰2å¹´é–“ã«12ãƒ¶æœˆä»¥ä¸Šã®åŠ å…¥ãŒå¿…è¦ã§ã™ã€‚\nãƒãƒ­ãƒ¼ãƒ¯ãƒ¼ã‚¯ã¸ã”ç›¸è«‡ãã ã•ã„ã€‚');
    return;
  }

  // ç·å—çµ¦é¡
  const totalBenefit = benefitDaily * benefitDays;

  // åˆå›æŒ¯è¾¼ã¾ã§ï¼ˆæ—¥æ•°ç›®å®‰ï¼‰
  const limitDays = isCompany ? 0 : (restriction === '3month' ? 90 : 30);
  // å¾…æœŸ7æ—¥ + çµ¦ä»˜åˆ¶é™ + èª¬æ˜ä¼šãƒ»èªå®šã¾ã§ã®æœŸé–“ï¼ˆç´„28æ—¥ï¼‰ + æŒ¯è¾¼5å–¶æ¥­æ—¥
  const firstPayDays = 7 + limitDays + 28 + 7;

  // æœˆã‚ãŸã‚Šï¼ˆ28æ—¥åˆ†ï¼‰
  const monthlyBenefit = benefitDaily * 28;

  // å†å°±è·æ‰‹å½“
  const saishushokuHigh = Math.floor(benefitDaily * benefitDays * 0.7);
  const saishushokuLow = Math.floor(benefitDaily * benefitDays * 0.6);

  // ============================================================
  //  çµæœè¡¨ç¤º
  // ============================================================
  document.getElementById('total-amount').textContent = fmtMan(totalBenefit);
  document.getElementById('hero-sub').textContent =
    `åŸºæœ¬æ‰‹å½“æ—¥é¡ ${fmt(benefitDaily)}å†† Ã— ${benefitDays}æ—¥åˆ†${is65note}`;

  document.getElementById('wage-daily').textContent = fmt(wageDaily);
  document.getElementById('benefit-daily').textContent = fmt(benefitDaily);
  document.getElementById('benefit-days').textContent = benefitDays;
  document.getElementById('benefit-rate').textContent = rate;
  document.getElementById('first-payment').textContent = `ç´„${firstPayDays}`;
  document.getElementById('monthly-benefit').textContent = fmtMan(monthlyBenefit);

  document.getElementById('saishushoku-high').textContent = `ç´„${fmtMan(saishushokuHigh)}ä¸‡å††`;
  document.getElementById('saishushoku-low').textContent = `ç´„${fmtMan(saishushokuLow)}ä¸‡å††`;

  // ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
  const tlContainer = document.getElementById('timeline');
  tlContainer.innerHTML = '';
  const tlItems = buildTimeline(reason, restriction, benefitDays, firstPayDays);
  tlItems.forEach(item => {
    const div = document.createElement('div');
    div.className = 'tl-item';
    div.innerHTML = `
      <div class="tl-dot ${item.color}">${item.icon}</div>
      <div class="tl-content">
        <div class="tl-day">${item.day}</div>
        <div class="tl-title">${item.title}</div>
        <div class="tl-desc">${item.desc}</div>
      </div>`;
    tlContainer.appendChild(div);
  });

  // è¡¨ç¤º
  const resultEl = document.getElementById('result');
  resultEl.style.display = 'block';
  resultEl.querySelectorAll('.animate').forEach((el, i) => {
    el.style.opacity = '0';
    setTimeout(() => {
      el.style.animation = 'none';
      el.offsetHeight;
      el.style.animation = 'fadeUp 0.4s ease forwards';
    }, i * 80);
  });

  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
  setTimeout(() => {
    resultEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 100);
}

// ãƒªã‚»ãƒƒãƒˆ
function resetForm() {
  document.getElementById('result').style.display = 'none';
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// é€€è·ç†ç”±åˆ‡ã‚Šæ›¿ãˆã§çµ¦ä»˜åˆ¶é™ã‚°ãƒ«ãƒ¼ãƒ—è¡¨ç¤º/éè¡¨ç¤º
document.querySelectorAll('input[name="reason"]').forEach(el => {
  el.addEventListener('change', function() {
    const rg = document.getElementById('restriction-group');
    rg.style.display = this.value === 'voluntary' ? 'block' : 'none';
  });
});
</script>
</body>
</html>
